{"mappings":"oeAAAA,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,UAC9BE,KAAMH,SAASC,cAAc,SAC7BG,OAAQJ,SAASC,cAAc,YAEjC,IAAII,EACAC,EACAC,EAGAC,EAFAC,EAAW,EAIfX,EAAKI,MAAMQ,iBAAiB,SAAUC,IACpCN,EAAQO,OAAOD,EAAEE,cAAcC,MAAM,IAGvChB,EAAKK,KAAKO,iBAAiB,SAAUC,IACnCL,EAAOM,OAAOD,EAAEE,cAAcC,MAAM,IAGtChB,EAAKM,OAAOM,iBAAiB,SAAUC,IACrCJ,EAASK,OAAOD,EAAEE,cAAcC,MAAM,IAGxChB,EAAKC,KAAKW,iBAAiB,UAE3B,SAASK,EAAUC,GACjBA,EAAMC,iBACNR,GAAY,EAEZD,EAAgB,CAACU,EAAUC,IAClB,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQM,SAASC,OAAOC,QAAQ,uBAAqBX,QAAiBC,QAEpEG,EAAKK,SAASC,OAAOE,QAAQ,sBAAoBZ,QAAeC,OAAW,GAE9Eb,EAAK,IAKRE,EAAcC,EAAUJ,GACvB0B,MAAKC,GAAUC,QAAQC,IAAIF,KAC3BG,OAAMC,GAASH,QAAQC,IAAIE,KAC3BC,SAAQ,KACPhC,GAASC,EACNG,EAAWF,GACdQ,EAAUC,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  delay: document.querySelector('.delay'),\n  step: document.querySelector('.step'),\n  amount: document.querySelector('.amount'),}\n\nlet delay;\nlet step;\nlet amount;\nlet position = 0;\nlet intervalId;\nlet createPromise;\n\nrefs.delay.addEventListener('input', (e) => {\n  delay = Number(e.currentTarget.value);\n})\n\nrefs.step.addEventListener('input', (e) => {\n  step = Number(e.currentTarget.value);\n})\n\nrefs.amount.addEventListener('input', (e) => {\n  amount = Number(e.currentTarget.value);\n})\n\nrefs.form.addEventListener('submit', generator);\n\nfunction generator(event) {\n  event.preventDefault();\n  position += 1;\n\n  createPromise = (position, delay) => {\n    return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n\n      setTimeout(() => { \n        if (shouldResolve) {\n          resolve(Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`));\n        } else {\n          reject(Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`));\n        }\n      }, step);\n\n      });\n    };\n  \n      createPromise(position, delay)\n      .then(result => console.log(result))\n      .catch(error => console.log(error))\n      .finally(() => {\n        delay += step;\n        if(position < amount) {\n        generator(event)}\n      })\n};\n"],"names":["parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","delay","step","amount","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$createPromise","$47d4ff9957288465$var$position","addEventListener","e","Number","currentTarget","value","$47d4ff9957288465$var$generator","event","preventDefault","position1","delay1","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","Notiflix","Notify","success","failure","then","result","console","log","catch","error","finally"],"version":3,"file":"03-promises.1962adac.js.map"}